(this["webpackJsonpinventory-demo"]=this["webpackJsonpinventory-demo"]||[]).push([[0],{46:function(e){e.exports=JSON.parse('[{"id":1,"Name":"Cheese","price":2.5,"Location":"Refrigerated foods","qty":2},{"id":2,"Name":"Crisps","price":3,"Location":"the Snack isle","qty":5},{"id":3,"Name":"pizza","price":4,"Location":"Refrigerated foods","qty":7},{"id":4,"Name":"Chocolate","price":1.5,"Location":"the Snack isle","qty":8},{"id":5,"Name":"Self-raising flour","price":1.5,"Location":"Home baking","qty":0},{"id":6,"Name":"Ground almonds","price":3,"Location":"Home baking","qty":1}]')},84:function(e,t,n){},85:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),r=n.n(i),s=(n(84),n(85),n(130)),l=n(145),o=n(134),j=n(64),d=n.n(j),b=n(63),h=n.n(b),O=n(17),u="SET_CURRENT_USER",m="SET_CART_ITEMS",x="TOGGLE_CART",g=function(e){return{type:u,payload:e}},p=function(e){return{type:x,payload:e}},f=function(e){return{type:m,payload:e}},y=n(27),v=n(2),N=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e})),n=t.currentUser,a=t.cartItems,c=t.showCart;return Object(v.jsx)("div",{children:Object(v.jsx)(s.a,{position:"static",className:"bg-dark text-white",style:{height:65},children:Object(v.jsxs)(o.a,{children:[Object(v.jsxs)(y.b,{to:"/login",className:"text-decoration-none ml-2 btn text-light",children:[Object(v.jsx)(h.a,{className:"mr-1"}),"Inventory Manager"]}),Object(v.jsxs)("span",{className:"ml-auto",children:[Object(v.jsxs)(l.a,{variant:"contained",size:"small",onClick:function(){return e(p(!c))},className:"mr-2",children:[Object(v.jsx)(d.a,{}),Object(v.jsx)("span",{children:a.length?a.length:""})]}),n?Object(v.jsx)(l.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){return e(g(null))},children:"Logout"}):Object(v.jsx)(y.b,{to:"/login",className:"text-decoration-none ml-2",children:Object(v.jsx)(l.a,{variant:"contained",size:"small",color:"primary",children:"Login"})})]})]})})})},w=n(19),C=n(8),T=n(5),_=n(137),S=n(139),q=n(141),k=n(135),L=n(138),E=n(140),I=n(136),z=n(66),P=n(142),R=n(143),A=n(65),U=n.n(A),M=n(46),F=Object(T.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(k.a),J=Object(T.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(I.a),D=Object(_.a)({table:{minWidth:700}}),B=function(){var e=D(),t=Object(O.c)((function(e){return e})).cartItems,n=Object(O.b)();return Object(v.jsx)("div",{children:t.length?Object(v.jsx)(L.a,{component:z.a,children:Object(v.jsxs)(S.a,{className:e.table,"aria-label":"customized table",children:[Object(v.jsx)(E.a,{children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(F,{}),Object(v.jsx)(F,{align:"left",children:"NAME"}),Object(v.jsx)(F,{align:"right",children:"PRICE"}),Object(v.jsx)(F,{align:"right",children:"LOCATION"}),Object(v.jsx)(F,{align:"right",children:"QUANTITY"}),Object(v.jsx)(F,{align:"right"})]})}),Object(v.jsx)(q.a,{children:t.map((function(e,a){return Object(v.jsxs)(J,{children:[Object(v.jsx)(F,{children:Object(v.jsxs)("strong",{children:[a+1,"."]})}),Object(v.jsx)(F,{align:"left",children:e.Name}),Object(v.jsx)(F,{align:"right",children:e.price}),Object(v.jsx)(F,{align:"right",children:e.Location}),Object(v.jsx)(F,{align:"right",children:Object(v.jsx)("input",{type:"number",className:"form-control ml-auto",style:{width:60},onChange:function(c){return function(e,a,c){var i=e.target.value;if(!(i<1)){var r=M.find((function(e){return e.id===a.id}));console.log(r),r&&r.qty>i&&(t[c]=Object(C.a)(Object(C.a)({},a),{},{qty:i}),n(f(Object(w.a)(t))))}}(c,e,a)},value:e.qty})}),Object(v.jsx)(F,{align:"right",children:Object(v.jsx)(l.a,{variant:"contained",color:"secondary",onClick:function(){var a=t.filter((function(t){return t!==e}));n(f(a))},children:"Remove"})})]},a)}))})]})}):Object(v.jsxs)("div",{className:"d-flex align-items-center justify-content-center bg-light rounded-lg text-danger flex-column",style:{height:250},children:[Object(v.jsx)(U.a,{}),Object(v.jsx)("h6",{children:"Empty cart!"}),Object(v.jsx)("div",{children:Object(v.jsx)("small",{children:Object(v.jsx)("i",{children:"Please add some items"})})})]})})},G=Object(T.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(k.a),W=Object(T.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(I.a),H=Object(_.a)({table:{minWidth:700}}),Q=function(){var e=Object(O.c)((function(e){return e})),t=e.cartItems,n=e.showCart,a=Object(O.b)(),c=H();return Object(v.jsxs)("div",{className:"mt-4 mb-5",children:[Object(v.jsx)(P.a,{className:"my-3 bg-light",variant:"outlined",children:Object(v.jsx)(R.a,{children:n?Object(v.jsx)("div",{children:Object(v.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return a(p(!1))},children:"Back"})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("h2",{className:"text-center font-weight-bold text-primary",children:"Inventory"})})})}),n?Object(v.jsx)(B,{}):Object(v.jsx)("div",{children:Object(v.jsx)(L.a,{component:z.a,children:Object(v.jsxs)(S.a,{className:c.table,"aria-label":"customized table",children:[Object(v.jsx)(E.a,{children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(G,{}),Object(v.jsx)(G,{align:"left",children:"NAME"}),Object(v.jsx)(G,{align:"right",children:"PRICE"}),Object(v.jsx)(G,{align:"right",children:"LOCATION"}),Object(v.jsx)(G,{align:"right",children:"QUANTITY"}),Object(v.jsx)(G,{align:"right"})]})}),Object(v.jsx)(q.a,{children:M.map((function(e,n){return Object(v.jsxs)(W,{children:[Object(v.jsx)(G,{children:Object(v.jsxs)("strong",{children:[n+1,"."]})}),Object(v.jsx)(G,{align:"left",className:"font-weight-bold",children:e.Name}),Object(v.jsx)(G,{align:"right",children:e.price}),Object(v.jsx)(G,{align:"right",children:e.Location}),Object(v.jsx)(G,{align:"right",children:e.qty}),Object(v.jsx)(G,{align:"right",children:t.find((function(t){return t.id===e.id}))?Object(v.jsx)(l.a,{variant:"contained",color:"secondary",onClick:function(){return function(e){t.find((function(t){return t.id===e.id}))&&t.map((function(n,c){n.id===e.id&&(n.qty>1?(t[c].qty=n.qty-1,a(f(Object(w.a)(t)))):a(f(t.filter((function(t){return t.id!==e.id})))))}))}(e)},children:"Remove"}):Object(v.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return function(e){console.log(t),t.find((function(t){return t.id===e.id}))?t.map((function(n,a){n.id===e.id&&(t[a].qty=n.qty+1)})):t.push(Object(C.a)(Object(C.a)({},e),{},{qty:1})),a(f(t))}(e)},children:"Add to cart"})})]},n)}))})]})})})]})},X=n(13),Y=n(24),$=n(146),V=n(144),Z="https://dev-api.alldaydr.com",K=function(e){e.loginPage;var t=e.signPage,n=Object(a.useState)({}),c=Object(Y.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)({}),o=Object(Y.a)(s,2),j=o[0],d=o[1],b=Object(a.useState)(!1),h=Object(Y.a)(b,2),u=h[0],m=h[1],x=Object(O.b)(),p=function(e){i[e.target.name]=e.target.value,r(Object(C.a)({},i)),j[e.target.name]="",d(Object(C.a)({},j))};return Object(v.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"calc(100vh - 65px)"},children:Object(v.jsxs)(P.a,{style:{width:"90%",maxWidth:"450px"},children:[Object(v.jsx)($.a,{className:"bg-dark text-light text-center",title:t?"Sign up":"Login"}),Object(v.jsxs)(R.a,{className:"bg-light",children:[Object(v.jsx)("div",{className:"text-center my-3",children:t?Object(v.jsxs)("span",{children:["Already registered? ",Object(v.jsx)(y.b,{to:"/login",children:"Login"})," here"]}):Object(v.jsxs)("span",{children:["Not registered? ",Object(v.jsx)(y.b,{to:"/signup",children:"Signup"})," here"]})}),Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),u||(m(!0),t?i.first_name?i.last_name?i.email?i.phone?i.password?(console.log(i),/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/.test(i.password)?fetch("".concat(Z,"/").concat("api/users/sign_up"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:Object(C.a)(Object(C.a)({},i),{},{phone:"+91".concat(i.phone)}),device_detail:{device_type:"web",player_id:""}})}).then((function(e){return e.json()})).then((function(e){var t;console.log(e),200===e.status?(x(g(null===(t=e.data)||void 0===t?void 0:t.user)),m(!1)):(alert(e.message),m(!1))})):(j.password="Minimum eight characters, at least one uppercase letter, one lowercase letter and one number",d(Object(C.a)({},j)))):(j.password="This field is required!",d(Object(C.a)({},j))):(j.phone="This field is required!",d(Object(C.a)({},j))):(j.email="This field is required!",d(Object(C.a)({},j))):(j.last_name="This field is required!",d(Object(C.a)({},j))):(j.first_name="This field is required!",d(Object(C.a)({},j))):i.email?i.password?fetch("".concat(Z,"/").concat("api/users/sign_in"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:i.email,password:i.password},role:"patient",device_detail:{device_type:"web",player_id:""}})}).then((function(e){return e.json()})).then((function(e){var t;console.log(e),200===e.status?(x(g(null===(t=e.data)||void 0===t?void 0:t.user)),m(!1)):(m(!1),alert(e.message))})):(j.password="This field is required!",d(Object(C.a)({},j))):(j.email="This field is required!",d(Object(C.a)({},j))))},children:Object(v.jsxs)("div",{className:"row mx-0",children:[t&&Object(v.jsx)("div",{className:"col-6 bg-white rounded shadow-sm my-1 p-2",children:Object(v.jsx)(V.a,{size:"small",type:"text",label:"First Name",name:"first_name",value:i.first_name,onChange:p,className:"w-100 m-1",variant:"outlined",error:j.first_name,helperText:j.first_name})}),t&&Object(v.jsx)("div",{className:"col-6 bg-white rounded shadow-sm my-1 p-2",children:Object(v.jsx)(V.a,{size:"small",type:"text",label:"Last Name",name:"last_name",value:i.last_Name,onChange:p,className:"w-100 m-1",variant:"outlined",error:j.last_Name,helperText:j.last_Name})}),Object(v.jsx)("div",{className:"col-12 bg-white rounded shadow-sm my-1 p-2",children:Object(v.jsx)(V.a,{size:"small",type:"email",label:"Email",name:"email",value:i.email,onChange:p,className:"w-100 m-1",variant:"outlined",error:j.email,helperText:j.email})}),t&&Object(v.jsx)("div",{className:"col-12 bg-white rounded shadow-sm my-1 p-2",children:Object(v.jsx)(V.a,{size:"small",type:"number",label:"Phone",name:"phone",value:i.phone,onChange:p,className:"w-100 m-1",variant:"outlined",error:j.phone,helperText:j.phone})}),Object(v.jsx)("div",{className:"col-12 bg-white rounded shadow-sm my-1 p-2",children:Object(v.jsx)(V.a,{size:"small",type:"password",label:"Password",name:"password",value:i.password,onChange:p,className:"w-100 m-1",variant:"outlined",error:j.password,helperText:j.password})}),Object(v.jsx)("div",{className:"col-12 text-right px-0 mt-2",children:Object(v.jsx)(l.a,{type:"submit",variant:"contained",color:"primary",children:u?"Loading...":t?"Sign up":"Login"})})]})})]})]})})},ee=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(K,{loginPage:!0})})},te=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(K,{signPage:!0})})};var ne=function(){var e=Object(O.c)((function(e){return e})).currentUser;return Object(v.jsxs)(y.a,{children:[Object(v.jsx)(N,{}),Object(v.jsx)(X.d,{children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(X.b,{exact:!0,path:"/login",render:function(){return e?Object(v.jsx)(X.a,{to:"/"}):Object(v.jsx)(ee,{})}}),Object(v.jsx)(X.b,{exact:!0,path:"/signup",render:function(){return e?Object(v.jsx)(X.a,{to:"/"}):Object(v.jsx)(te,{})}}),Object(v.jsx)(X.b,{exact:!0,path:"/",render:function(){return e?Object(v.jsx)(Q,{}):Object(v.jsx)(X.a,{to:"/login"})}})]})})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},ce={showCart:!1,cartItems:[],currentUser:null},ie=n(48),re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.b,se=Object(ie.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;return t.type===u?Object(C.a)(Object(C.a)({},e),{},{currentUser:t.payload}):t.type===x?Object(C.a)(Object(C.a)({},e),{},{showCart:t.payload}):t.type===m?Object(C.a)(Object(C.a)({},e),{},{cartItems:t.payload}):Object(C.a)({},e)}),re(Object(ie.a)()));r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(O.a,{store:se,children:Object(v.jsx)(ne,{})})}),document.getElementById("root")),ae()}},[[98,1,2]]]);
//# sourceMappingURL=main.26fcceec.chunk.js.map